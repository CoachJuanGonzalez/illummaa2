CORRECTED REPLIT PROMPT: FIX PROJECT_UNIT_RANGE WITH        
  ACCURATE RANGE MAPPING

  OBJECTIVE: Fix the missing project_unit_range field in
  GoHighLevel webhook payload by implementing accurate range     
  mapping that ensures sales team sees correct project scale     
  ranges, not confusing representative numbers.

  ISSUE: The field was missing due to undefined values, and a    
   simple numeric fallback would create business confusion       
  (e.g., "500+ units" vs actual "300+ units (Elite)" range).     

  ---
  ğŸ¯ BACKEND FIX - File: server/storage.ts

  1. Add Range Mapping Function (Insert after line 268, after    
   getReadinessWithTimeframe function):
  // Convert representative unit value back to accurate
  display range
  function getUnitRangeFromRepresentative(units: number):        
  string {
    if (units >= 500) return "300+ units (Elite)";
    if (units >= 200) return "150-299 units (Preferred)";        
    if (units >= 75) return "50-149 units (Pioneer)";
    if (units >= 25) return "3-49 units (Starter)";
    if (units === 2) return "2 homes";
    if (units === 1) return "1 home";
    return "0 units";
  }

  2. Update Webhook Payload (Line 316):

  FIND:
      project_unit_range: formData.projectUnitRange ||
  `${units}+ units`,

  REPLACE WITH:
      project_unit_range: formData.projectUnitRange ||
  getUnitRangeFromRepresentative(units),

  3. OPTIONAL: Add Debug Logging (Insert before line 303):       
    // DEBUG: Log projectUnitRange mapping for
  troubleshooting
    console.log('ğŸ” [DEBUG] projectUnitRange mapping:', {        
      received: formData.projectUnitRange,
      units: units,
      fallback: getUnitRangeFromRepresentative(units),
      final: formData.projectUnitRange ||
  getUnitRangeFromRepresentative(units)
    });

ğŸ”§ MINOR CORRECTION NEEDED:

  Update existing debug logging (Line 300):
  // CURRENT:
  fallback: formData.projectUnitRange || "FALLBACK_EMPTY"        

  // SHOULD BE:
  fallback: formData.projectUnitRange ||
  getUnitRangeFromRepresentative(units)

  ---
  ğŸ“Š ACCURATE MAPPING EXAMPLES:

  User Selection â†’ Representative Value â†’ Fallback Display       
  - "300+ units (Elite)" â†’ 500 â†’ "300+ units (Elite)" âœ…
  - "150-299 units (Preferred)" â†’ 200 â†’ "150-299 units 
  (Preferred)" âœ…
  - "50-149 units (Pioneer)" â†’ 75 â†’ "50-149 units (Pioneer)"     
  âœ…
  - "3-49 units (Starter)" â†’ 25 â†’ "3-49 units (Starter)" âœ…      
  - "2 homes" â†’ 2 â†’ "2 homes" âœ…
  - "1 home" â†’ 1 â†’ "1 home" âœ…

  ğŸ¯ BUSINESS BENEFITS:

  Sales Team Clarity:
  - âœ… Accurate Ranges: Always shows correct project scale       
  - âœ… No Confusion: "300+ units (Elite)" not "500+ units"       
  - âœ… Proper Pricing: Quote appropriate to actual range
  - âœ… Reliable Data: Field appears in every webhook payload     

  Technical Benefits:
  - âœ… Robust Fallback: Never undefined/empty values
  - âœ… Data Consistency: Matches user selections exactly
  - âœ… Enterprise Grade: Handles edge cases gracefully

  ğŸ” EXPECTED WEBHOOK RESULT:

  {
    "project_unit_count": 500,
    "project_unit_range": "300+ units (Elite)",
    "customer_tier": "tier_4_elite"
  }

  READY FOR DEPLOYMENT âœ…

  Remove debug logging once confirmed working in production.